在 **Colony** 的可视化设计中，挑战在于如何将底层抽象的物理属性、复杂的基因演化和不可见的 AI 决策转化为直观且具有“挂机乐趣”的视觉反馈。

根据你目前的架构 和开发计划，可视化可以从以下四个维度进行细化设计：

---

### 1. 空间与深度可视化 (Z-Level & Space)

由于游戏采用 2D/3D 混合架构，玩家需要清晰地感知自己所处的垂直高度。

* **切片与阴影衰减 (Dimming)**：继续强化现有的视野逻辑，当前层下方的瓦片应根据深度进行阴影暗淡处理，上方层则完全隐藏。
* **垂直截面图 (Side-view Minimap)**：在 UI 侧边显示一个微缩的纵向切面，标记当前观察层在整个地壳/山脉中的位置。
* **环境场热力图 (Environmental Heatmaps)**：
* 玩家可以切换视图模式（如 `VisualizationMode`），通过颜色滤镜查看当前层的**温度 (Temperature)**、**湿度 (Humidity)** 和 **肥沃度 (Fertility)** 分布。



### 2. 演化与基因可视化 (Evolutionary Visualization)

这是展示“进化型物理仿真”核心特色的关键，和空间场一样可以切换视图模式来展示不同的基因/属性。

* **颜色映射 (Genetic Tinting)**：
* 将关键基因映射到实体的 `Sprite.color`。
* **示例**：高攻击性个体偏红，高代谢效率个体高饱和度，光合作用个体偏绿等。


* **形态缩放 (Morphological Scaling)**：
* 直接将 `Genome.size` 基因与 `Transform.scale` 关联。
* **效果**：玩家能一眼看出哪一族的生物演化出了更大的体型，而哪一族变得精悍。


* **基因热力图 (Macro-Genetic View)**：
* 在宏观视角下，通过 Shader 渲染出不同基因属性的分布浓度。例如，地图左侧是一片“高效能红色种群”，右侧是“低能耗蓝色种群”。



### 3. 智能与意图可视化 (Intelligence & Intention)

要让玩家体验到“观察者”的乐趣，必须揭示 AI 内部的思考过程。

* **原子动作序列 (Atomic Action Strings)**：
* 除了现有的 `[Eat]`、`[Sleep]`，可以显示更底层的逻辑链。
* **示例**：头顶文字显示为 `[Scan -> Link(Stick, Stone) -> ApplyForce(Tree)]`，让玩家感知到 AI 是如何通过尝试物理动作来解决需求的。


* **需求槽可视化 (Need Bars)**：
* 当玩家点击单位时，侧边栏应通过动态进度条显示其 `energy_storage` 和各类 `Need`（饥饿、疲劳、无聊等）的实时波动。


* **记忆闪回 (Memory Popups)**：
* 当个体“学习”到了高效动作（如发现某种工具组合）时，在其头顶显示一个短暂的图标，提示该个体获得了新的记忆条目（`Memory::Seen`）。



### 4. 物理交互与反馈可视化 (Physics & Feedback)

由于交互基于物理属性（如硬度、力），视觉反馈应强调这种“硬碰硬”的感觉。

* **受力反馈 (Force Visualization)**：
* 当执行 `ApplyForce` 时，目标实体产生轻微的抖动或产生基于物理硬度差异的火花特效。


* **损坏程度 (Integrity Decay)**：
* 物体（如树木、建筑）的受损不再仅由血条表示，而是通过 Sprite 的逐渐破碎或颜色变淡（灰度化）来体现其 `Toughness` 的下降。


* **名字与传说 (Naming System)**：
* 为存活时间极长、代数（`Generation`）极高的个体自动赋予特殊的视觉装饰（如光环或独特的称号），让玩家对特定的演化支系产生情感连接。
